(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{692:function(e,t,n){"use strict";n.r(t);var a=n(5),l=n(6),i=n(11),r=n(9),c=n(10),o=n(0),f=n.n(o),s=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={netType:"",netSpeed:""},n.canvasRef=f.a.createRef(),n.colorRef=f.a.createRef(),n.imgRef=f.a.createRef(),n}return Object(c.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(navigator.connection){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;console.log(t),this.setState({netType:t.effectiveType,netSpeed:1204*t.downlink/8}),t.addEventListener("change",function(){e.setState({netType:t.effectiveType,netSpeed:1204*t.downlink/8})})}this.rectColor(),this.draw(),this.drawImg()}},{key:"rectColor",value:function(){var e=this.canvasRef.current.getContext("2d");e.fillStyle="rgb(200,0,0)",e.fillRect(10,10,100,80),e.fillStyle="rgba(0,0,200,0.5)",e.fillRect(30,30,100,80),e.beginPath(),e.moveTo(100,120),e.lineTo(200,100),e.lineTo(100,200),e.fill();var t=this.canvasRef.current.toDataURL("image/jpeg",.8),n=new Image;n.src=t,document.getElementById("canvasBox").appendChild(n)}},{key:"draw",value:function(){var e=this.colorRef.current.getContext("2d");e.fillStyle="#FD0",e.fillRect(0,0,75,75),e.fillStyle="#6C0",e.fillRect(75,0,75,75),e.fillStyle="#09F",e.fillRect(0,75,75,75),e.fillStyle="#F30",e.fillRect(75,75,75,75),e.fillStyle="#FFF",e.globalAlpha=.2;for(var t=0;t<7;t++)e.beginPath(),e.arc(75,75,10+10*t,0,2*Math.PI,!0),e.fill();var n=this.colorRef.current.toDataURL(),a=new Image;a.src=n,document.getElementById("canvasBox").appendChild(a)}},{key:"drawImg",value:function(){var e=this.imgRef.current.getContext("2d"),t=new Image;t.src="https://mdn.mozillademos.org/files/222/Canvas_createpattern.png",t.onload=function(){var n=e.createPattern(t,"repeat");e.fillStyle=n,e.fillRect(0,0,300,200),e.font="48px serif",e.textBaseline="hanging",e.textAlign="center",e.strokeText("Hello world",150,100)}}},{key:"render",value:function(){var e=this.state,t=e.netType,n=e.netSpeed;return f.a.createElement("div",{id:"canvasBox"},f.a.createElement("p",{style:{textIndent:"2em"}},"\u5f53\u524d\u7684\u7f51\u7edc\u7c7b\u578b\u4e3a\uff1a",f.a.createElement("span",{style:{color:"#f00"}},t)),f.a.createElement("p",{style:{textIndent:"2em"}},"\u5f53\u524d\u7684\u7f51\u901f\u4e3a: ",f.a.createElement("span",{style:{color:"#f00"}},n,"Kb/s")),f.a.createElement("canvas",{width:"300",height:"200",ref:this.canvasRef}),f.a.createElement("canvas",{ref:this.colorRef}),f.a.createElement("canvas",{ref:this.imgRef}))}}]),t}(o.Component);t.default=s}}]);